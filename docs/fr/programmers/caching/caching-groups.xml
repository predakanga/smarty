<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision$ -->
<!-- EN-Revision: 1.4 Maintainer: yannick Status: ready -->

<sect1 id="caching.groups">
 <title>Groupes de fichiers de cache</title>
 <para>
  Vous pouvez faire des groupements plus élaborés en paramétrant les
  groupes d'identifiant de cache. Il suffit de séparer chaque sous-groupe
  avec une barre verticale "|" dans la valeur de l'identifiant de cache.
  Vous pouvez faire autant de sous-groupes que vous le désirez.
 </para>
 <para>
  Vous pouvez voir les groupes de cache comme une hiérarchie de dossiers.
  Par exemple, un groupe de cache "a|b|c" peut être considéré comme
  la hiérarchie de dossiers "/a/b/c/". Ainsi, clear_cache(null,"a|b|c") supprimerait
  les fichiers "/a/b/c/*". clear_cache(null,"a|b") supprimerait les fichiers
  "/a/b/*". Si vous spécifiez un compile_id de cette façon : clear_cache(null,"a|b","foo"),
  il sera traité comme un groupe de cache apposé "/a/b/c/foo/". Si vous
  spécifiez un nom de template de cette façon : clear_cache("foo.tpl","a|b|c"), 
  alors Smarty tentera d'effacer "/a/b/c/foo.tpl". Vous ne POUVEZ PAS effacer 
  un nom de template spécifié sous un groupe de cache multiple comme
  "/a/b/*/foo.tpl", le groupement de cache fonctionne UNIQUEMENT de gauche à droite.
  Vous pourriez vouloir grouper vos templates sous un groupe de cache simple
  hiérarchisé pour être capable de les effacer comme un groupe.
 </para>
 <para>
  Le groupement de cache ne devrait pas être confondu avec votre hiérarchie
  de dossiers de templates, le groupement de cache n'a aucune connaissance
  de la façon dont vos templates sont structurés. Donc, par exemple, si
  vous avez une structure de template comme "themes/blue/index.tpl" et
  que vous voulez être capable d'effacer tous les fichiers de cache pour le thème "blue",
  vous devriez créer une structure de groupe de cache qui reflète la structure
  de fichiers de vos templates, comme display("themes/blue/index.tpl","themes|blue"),
  et les effacer avec clear_cache(null,"themes|blue").
 </para>
 <example>
  <title>Groupes d'identifiants de cache</title>
  <programlisting role="php">
<![CDATA[
<?php
require('Smarty.class.php');
$smarty = new Smarty;

$smarty->caching = true;

// efface tous les fichiers de cache avec "sports|basketball" comme premiers
// groupes d'identifiants de cache
$smarty->clear_cache(null,'sports|basketball');

// efface tous les fichiers de cache "sports" comme premier groupe d'identifiants.
// Inclue donc "sports|basketball" ou "sports|nimportequoi|nimportequoi|..."
$smarty->clear_cache(null,'sports');

$smarty->display('index.tpl','sports|basketball');
?>
]]>
  </programlisting>
 </example>
</sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->