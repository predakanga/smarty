<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision$ -->
    <chapter id="language.modifiers">
     <title>Модификаторы переменных</title>
     <para>
      Модификаторы переменных могут быть прмменены к переменным, пользовательским 
      функциям или строкам. Для их применения надо после модифицируемого значения
      указать символ <literal>|</literal> (вертикальная черта) и название модификатора.
      Так же модификаторы могут принимать параметры, которые влияют на их поведение. 
      Эти параметры следуют за названием модификатора и разделяются 
      <literal>:</literal> (двоеточием).
     </para>
     <example>
      <title>Пример модификатора</title>
      <programlisting>
{* Выводим заголовок большими буквами *}
&lt;h2&gt;{$title|upper}&lt;/h2&gt;

{* Ограничим $topic 40-а символами и добавим "..." в конце *}
Topic: {$topic|truncate:40:"..."}

{* форматируем строку *}
{"now"|date_format:"%Y/%m/%d"}

{* Применение модификатора к функции *}
{mailto|upper address="me@domain.dom"}</programlisting>
     </example>
     <para>
     Если модификатор применяется к переменной-массиву, то он будет применен к
     каждому элементу массива. Если же требуется применить модификатор к массиву, 
     как к переменной, то необходимо перед именем модификатора указать символ 
     <literal>@</literal>. Пример: <literal>{$articleTitle|@count}</literal> выведет
     количество елементов в массиве $articleTitle.
     </para>

      <sect1 id="language.modifier.capitalize">
       <title>capitalize</title>
       <para>
       Первые буквы каждого слова преобразуются в заглавные.
       </para>
       <example>
        <title>capitalize</title>
        <programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', 'Police begin campaign to rundown jaywalkers.');
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|capitalize}

OUTPUT:

Police begin campaign to rundown jaywalkers.
Police Begin Campaign To Rundown Jaywalkers.</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.count.characters">
			<title>count_characters</title>
			<para>
			Возвращает количество символов в строке.
			</para>
<example>
<title>count_characters</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', 'Cold Wave Linked to Temperatures.');
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|count_characters}

OUTPUT:

Cold Wave Linked to Temperatures.
32</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.cat">
			<title>cat</title>
            <informaltable frame="all">
                <tgroup cols="5">
                <colspec colname="param" align="center" />
                <colspec colname="type" align="center" />
                <colspec colname="required" align="center" />
                <colspec colname="cat" align="center" />
                <colspec colname="desc" />
                <thead>
                    <row>
                        <entry>Позиция параметра</entry>
                        <entry>Тип</entry>
                        <entry>Обязателен</entry>
                        <entry>cat</entry>
                        <entry>Описание</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>строка (string)</entry>
                        <entry>Нет</entry>
                        <entry><emphasis>пусто</emphasis></entry>
                        <entry>Данная строка добавляется к 
                        модифицируемому значению.</entry>
                    </row>
                </tbody>
                </tgroup>
            </informaltable>
			<para>
			Данная строка добавляется к модифицируемому значению.
			</para>
<example>
<title>cat</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', "Psychics predict world didn't end");
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle|cat:" yesterday."}

OUTPUT:

Psychics predict world didn't end yesterday.</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.count.paragraphs">
			<title>count_paragraphs</title>
			<para>
			Возвращает количество абзацев в строке.
			</para>
<example>
<title>count_paragraphs</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', "War Dims Hope for Peace. Child's Death Ruins
Couple's Holiday.\n\nMan is Fatally Slain. Death Causes Loneliness, Feeling of Isolation.");
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|count_paragraphs}

OUTPUT:

War Dims Hope for Peace. Child's Death Ruins Couple's Holiday. 

Man is Fatally Slain. Death Causes Loneliness, Feeling of Isolation.
2</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.count.sentences">
			<title>count_sentences</title>
			<para>
			Возвращает количество предложений.
			</para>
<example>
<title>count_sentences</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', 'Two Soviet Ships Collide - One Dies. Enraged Cow Injures Farmer with Axe.');
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|count_sentences}

OUTPUT:

Two Soviet Ships Collide - One Dies. Enraged Cow Injures Farmer with Axe.
2</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.count.words">
			<title>count_words</title>
			<para>
			Возвращает количество слов.
			</para>
<example>
<title>count_words</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', 'Dealers Will Hear Car Talk at Noon.');
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|count_words}

OUTPUT:

Dealers Will Hear Car Talk at Noon.
7</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.date.format">
			<title>date_format</title>
            <informaltable frame="all">
                <tgroup cols="5">
                <colspec colname="param" align="center" />
                <colspec colname="type" align="center" />
                <colspec colname="required" align="center" />
                <colspec colname="default" align="center" />
                <colspec colname="desc" />
                <thead>
                    <row>
                        <entry>Позиция параметра</entry>
                        <entry>Тип</entry>
                        <entry>Обязателен</entry>       
                        <entry>По умолчанию</entry>
                        <entry>Описание</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>строка (string)</entry>
                        <entry>Нет</entry>
                        <entry>%b %e, %Y</entry>
                        <entry>Формат вывода даты.</entry>
                    </row>
                    <row>
                        <entry>2</entry>
                        <entry>строка (string)</entry>
                        <entry>Нет</entry>
                        <entry>n/a</entry>
                        <entry>Если модифицируемое значение пусто, 
                        то используется это.</entry>
                    </row>
                </tbody>
                </tgroup>
            </informaltable>
			<para>
			Формирует дату и время по заданному формату strftime(). Даты могут 
			быть в виде unix timestamps, mysql timestamps или в любом другом виде,
			который поймет strtotime(). Проектировщики шаблонов могут использовать 
			date_format для контроля над форматом выводимых дат. Если дата, 
			переданная модификатору, пуста, то второй параметр используется как дата.
			</para>
<example>
<title>date_format</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('yesterday', strtotime('-1 day'));
$smarty-&gt;display('index.tpl');

index.tpl:


{$smarty.now|date_format}
{$smarty.now|date_format:"%A, %B %e, %Y"}
{$smarty.now|date_format:"%H:%M:%S"}
{$yesterday|date_format}
{$yesterday|date_format:"%A, %B %e, %Y"}
{$yesterday|date_format:"%H:%M:%S"}

OUTPUT:

Feb 6, 2001
Tuesday, February 6, 2001
14:33:00
Feb 5, 2001
Monday, February 5, 2001
14:33:00</programlisting>
</example>
<example>
<title>date_format conversion specifiers</title>
<programlisting>
%a - сокращенное название дня недели, в зависимости от текущей локали

%A - полное название дня недели, в зависимости от текущей локали

%b - сокращенное нащвание месяца, в зависимости от текущей локали

%B - полное название месяца, в зависимости от текущей локали

%c - формат даты и времени по умолчанию для текущей локали

%C - номер века (год, деленный на 100, представленный в виде целого в промежутке от 00 до 99) 

%d - день месяца в десятичном формате (от 00 до 31) 

%D - синоним %m/%d/%y 

%e - день месяца в десятичном формате без ведущего нуля (от 1 до 31) 

%g - Week-based year within century [00,99]

%G - Week-based year, including the century [0000,9999]

%h - синоним %b 

%H - часы по 24-часовым часам (от 00 до 23) 

%I - часы по 12-часовым часам (от 01 до 12) 

%j - день года (от 001 до 366) 

%k - часы по 24-часовым часам без ведущего нуля (от 0 до 23)

%l - часы по 12-часовым часам без ведущего нуля (от 1 до 12)

%m - номер месяца (от 01 до 12) 

%M - минуты

%n - символ новой строки

%p - `am' или `pm', в зависимости от заданного формата времени и текущей локали.

%r - time in a.m. and p.m. notation 

%R - time in 24 hour notation 

%S - секунды

%t - символ табуляции

%T - время в формате %H:%M:%S 

%u - номер дня недели [1,7], где 1-ый день - понедельник

%U - номер недели в году, считая первое воскресенья года первым днем первой недели 

%V - номер недели в году (по ISO 8601:1988) в диапазоне от 01 до 53, где первая неделя
	 та, у которой хотя бы 4 дня находяться в данном году. Понедельник считается 
	 первым днем недели. 

%w - номер дня недели, где 0 - воскресенье

%W - номер недели в году, считаю первый понедельник первым днем первой недели.

%x - preferred date representation for the current locale without the time 

%X - preferred time representation for the current locale without the date 

%y - year as a decimal number without a century (range 00 to 99) 

%Y - year as a decimal number including the century 

%Z - time zone or name or abbreviation 

%% - a literal `%' character 


PROGRAMMERS ЗАМЕЧАНИЕ: date_format is essentially a wrapper to PHP's strftime()
function. You may have more or less conversion specifiers available depending
on your system's strftime() function where PHP was compiled. Check your
system's manpage for a full list of valid specifiers.</programlisting>
</example>

		</sect1>
		<sect1 id="language.modifier.default">
			<title>default</title>
            <informaltable frame="all">
                <tgroup cols="5">
                <colspec colname="param" align="center" />
                <colspec colname="type" align="center" />
                <colspec colname="required" align="center" />
                <colspec colname="default" align="center" />
                <colspec colname="desc" />
                <thead>
                    <row>
                        <entry>Позиция параметра</entry>
                        <entry>Тип</entry>
                        <entry>Обязателен</entry>       
                        <entry>По умолчанию</entry>
                        <entry>Описание</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>строка (string)</entry>
                        <entry>Нет</entry>
                        <entry><emphasis>пусто</emphasis></entry>
                        <entry>Значение по умолчанию для пустой переменной.</entry>
                    </row>
                </tbody>
                </tgroup>
            </informaltable>
			<para>
			Используется для установки значения по умолчанию для переменной. Если 
			переменная оказывается пустой, то выводиться значение по умолчанию.
			Модификатор принимает один параметр.
			</para>
<example>
<title>default</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', 'Dealers Will Hear Car Talk at Noon.');
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle|default:"no title"}
{$myTitle|default:"no title"}

OUTPUT:

Dealers Will Hear Car Talk at Noon.
no title</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.escape">
			<title>escape</title>
            <informaltable frame="all">
                <tgroup cols="6">
                <colspec colname="param" align="center" />
                <colspec colname="type" align="center" />
                <colspec colname="required" align="center" />
                <colspec colname="possible" align="center" />
                <colspec colname="default" align="center" />
                <colspec colname="desc" />
                <thead>
                    <row>
                        <entry>Позиция параметра</entry>
                        <entry>Тип</entry>
                        <entry>Обязателен</entry>
                        <entry>Возможные значения</entry>
                        <entry>По умолчанию</entry>
                        <entry>Описание</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>строка (string)</entry>
                        <entry>Нет</entry>
                        <entry>html,htmlall,url,quotes,hex,hexentity,javascript</entry>
                        <entry>html</entry>
                        <entry>Формат защиты (escape).</entry>
                    </row>
                </tbody>
                </tgroup>
            </informaltable>
			<para>
			"Защищает" специальные символы в переменной. Используется для 
			защиты специальных символов html, защиты специальных символов 
			url, защиты одиночных кавычек, конвертации в шестандцатеричный 
			вид (hex), конвертации каждого символа в шестандцатеричное 
			html представление (hexentity), защита специальных символов 
			javascript.
			</para>
<example>
<title>escape</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', "'Stiff Opposition Expected to Casketless Funeral Plan'");
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|escape}
{$articleTitle|escape:"html"}    {* защищает  &amp; &quot; &#039; &lt; &gt; *}
{$articleTitle|escape:"htmlall"} {* защищает все ВСЕ html объекты *}
{$articleTitle|escape:"url"}
{$articleTitle|escape:"quotes"}
&lt;a
href="mailto:{$EmailAddress|escape:"hex"}"&gt;{$EmailAddress|escape:"hexentity"}&lt;/a&gt;

OUTPUT:

'Stiff Opposition Expected to Casketless Funeral Plan'
'Stiff%20Opposition%20Expected%20to%20Casketless%20Funeral%20Plan'
'Stiff%20Opposition%20Expected%20to%20Casketless%20Funeral%20Plan'
'Stiff%20Opposition%20Expected%20to%20Casketless%20Funeral%20Plan'
'Stiff+Opposition+Expected+to+Casketless+Funeral+Plan'
\'Stiff Opposition Expected to Casketless Funeral Plan\'
&lt;a
href="mailto:%62%6f%62%40%6d%65%2e%6e%65%74"&gt;&amp;#x62;&amp;#x6f;&amp;#x62;&amp;#x40;&amp;#x6d;&amp;#x65;&amp;#x2e;&amp;#x6e;&amp;#x65;&amp;#x74;&lt;/a&gt;</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.indent">
			<title>indent</title>
            <informaltable frame="all">
                <tgroup cols="5">
                <colspec colname="param" />
                <colspec colname="type" />
                <colspec colname="required" />
                <colspec colname="default" />
                <colspec colname="desc" />
                <thead>
                    <row>
                        <entry>Позиция параметра</entry>
                        <entry>Тип</entry>
                        <entry>Обязателен</entry>
                        <entry>По умолчанию</entry>
                        <entry>Описание</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>целое (integer)</entry>
                        <entry>Нет</entry>
                        <entry>4</entry>
						<entry>Количество символов для вставки.</entry>
                    </row>
                    <row>
                        <entry>2</entry>
                        <entry>строка (string)</entry>
                        <entry>Нет</entry>
                        <entry>(один пробел)</entry>
                        <entry>Символ для вставки.</entry>
                    </row>
                </tbody>
                </tgroup>
            </informaltable>
			<para>
			Вставляет в начало каждой строки заданное количество 
			заданных символов. По умолчанию вставляеться 4 пробела.
			</para>
<example>
<title>indent</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', 'NJ judge to rule on nude beach.');
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}

{$articleTitle|indent}

{$articleTitle|indent:10}

{$articleTitle|indent:1:"\t"}

OUTPUT:

NJ judge to rule on nude beach.
Sun or rain expected today, dark tonight.
Statistics show that teen pregnancy drops off significantly after 25.

    NJ judge to rule on nude beach.
    Sun or rain expected today, dark tonight.
    Statistics show that teen pregnancy drops off significantly after 25.

          NJ judge to rule on nude beach.
          Sun or rain expected today, dark tonight.
          Statistics show that teen pregnancy drops off significantly after 25.

	NJ judge to rule on nude beach.
	Sun or rain expected today, dark tonight.
	Statistics show that teen pregnancy drops off significantly after 25.</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.lower">
			<title>lower</title>
			<para>
			Все буквы в переменной становятся маленькими.
			</para>
<example>
<title>lower</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', 'Two Convicts Evade Noose, Jury Hung.');
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|lower}

OUTPUT:

Two Convicts Evade Noose, Jury Hung.
two convicts evade noose, jury hung.</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.nl2br">
			<title>nl2br</title>
			<para>
			Заменяет все переносы строк на тэг &lt;br /&gt; в заданной 
			переменной. Это эквивалент PHP функции nl2br().
			</para>
<example>
<title>nl2br</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', "Sun or rain expected\ntoday, dark tonight");
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle|nl2br}

OUTPUT:

Sun or rain expected&lt;br /&gt;today, dark tonight</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.regex.replace">
			<title>regex_replace</title>
            <informaltable frame="all">
                <tgroup cols="5">
                <colspec colname="param" />
                <colspec colname="type" />
                <colspec colname="required" />
                <colspec colname="default" />
                <colspec colname="desc" />
                <thead>
                    <row>
                        <entry>Позиция параметра</entry>
                        <entry>Тип</entry>
                        <entry>Обязателен</entry>
                        <entry>По умолчанию</entry>
                        <entry>Описание</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>строка (string)</entry>
                        <entry>Да</entry>
                        <entry><emphasis>n/a</emphasis></entry>
                        <entry>Регулярное выражение для замены.</entry>
                    </row>
                    <row>
                        <entry>2</entry>
                        <entry>строка (string)</entry>
                        <entry>Да</entry>
                        <entry><emphasis>n/a</emphasis></entry>
                        <entry>Строка для замены.</entry>
                    </row>
                </tbody>
                </tgroup>
            </informaltable>
			<para>
			Выполняется поиск и замена по регулярному выражению в 
			переменнной. Используется синтаксис для функции 
			preg_replace() из руководства по PHP.
			</para>
<example>
<title>regex_replace</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', "Infertility unlikely to\nbe passed on, experts say.");
$smarty-&gt;display('index.tpl');

index.tpl:

{* replace each carriage return, tab &amp; new line with a space *}

{$articleTitle}
{$articleTitle|regex_replace:"/[\r\t\n]/":" "}

OUTPUT:

Infertility unlikely to
 be passed on, experts say.
Infertility unlikely to be passed on, experts say.</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.replace">
			<title>replace</title>
            <informaltable frame="all">
                <tgroup cols="5">
                <colspec colname="param" />
                <colspec colname="type" />
                <colspec colname="required" />
                <colspec colname="default" />
                <colspec colname="desc" />
                <thead>
                    <row>
                        <entry>Позиция параметра</entry>
                        <entry>Тип</entry>
                        <entry>Обязателен</entry>
                        <entry>По умолчанию</entry>
                        <entry>Описание</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>строка (string)</entry>
                        <entry>Да</entry>
                        <entry><emphasis>n/a</emphasis></entry>
                        <entry>Строка для поиска.</entry>
                    </row>
                    <row>
                        <entry>2</entry>
                        <entry>строка (string)</entry>
                        <entry>Да</entry>
                        <entry><emphasis>n/a</emphasis></entry>
                        <entry>Строка для замены.</entry>
                    </row>
                </tbody>
                </tgroup>
            </informaltable>
			<para>
			Выполняеться простой поиск и замена строки.
			</para>
<example>
<title>replace</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', "Child's Stool Great for Use in Garden.");
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|replace:"Garden":"Vineyard"}
{$articleTitle|replace:" ":"   "}

OUTPUT:

Child's Stool Great for Use in Garden.
Child's Stool Great for Use in Vineyard.
Child's   Stool   Great   for   Use   in   Garden.</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.spacify">
			<title>spacify</title>
            <informaltable frame="all">
                <tgroup cols="5">
                <colspec colname="param" />
                <colspec colname="type" />
                <colspec colname="required" />
                <colspec colname="default" />
                <colspec colname="desc" />
                <thead>
                    <row>
                        <entry>Позиция параметра</entry>
                        <entry>Тип</entry>
                        <entry>Обязателен</entry>
                        <entry>По умолчанию</entry>
                        <entry>Описание</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>строка (string)</entry>
                        <entry>Нет</entry>
                        <entry><emphasis>один пробел</emphasis></entry>
                        <entry>Строка вставялется между каждым символом переменной.</entry>
                    </row>
                </tbody>
                </tgroup>
            </informaltable>
			<para>
			Spacify позволяет вставить пробел между каждым символом переменной.
			Можно также указать другой символ (или строку) для вставки
			</para>
<example>
<title>spacify</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', 'Something Went Wrong in Jet Crash, Experts Say.');
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|spacify}
{$articleTitle|spacify:"^^"}

OUTPUT:

Something Went Wrong in Jet Crash, Experts Say.
S o m e t h i n g   W e n t   W r o n g   i n   J e t   C r a s h ,   E x p e r t s   S a y .
S^^o^^m^^e^^t^^h^^i^^n^^g^^ ^^W^^e^^n^^t^^ ^^W^^r^^o^^n^^g^^ ^^i^^n^^ ^^J^^e^^t^^ ^^C^^r^^a^^s^^h^^,^^ ^^E^^x^^p^^e^^r^^t^^s^^ ^^S^^a^^y^^.</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.string.format">
			<title>string_format</title>
            <informaltable frame="all">
                <tgroup cols="5">
                <colspec colname="param" />
                <colspec colname="type" />
                <colspec colname="required" />
                <colspec colname="default" />
                <colspec colname="desc" />
                <thead>
                    <row>
                        <entry>Позиция параметра</entry>
                        <entry>Тип</entry>
                        <entry>Обязателен</entry>
                        <entry>По умолчанию</entry>
                        <entry>Описание</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>строка (string)</entry>
                        <entry>Да</entry>
                        <entry><emphasis>n/a</emphasis></entry>
                        <entry>Формат. (sprintf)</entry>
                    </row>
                </tbody>
                </tgroup>
            </informaltable>
			<para>
			Форматирует строку по указанному формату. Используется
			синтаксис форматирования PHP функции sprintf.
			</para>
<example>
<title>string_format</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('number', 23.5787446);
$smarty-&gt;display('index.tpl');

index.tpl:

{$number}
{$number|string_format:"%.2f"}
{$number|string_format:"%d"}

OUTPUT:

23.5787446
23.58
24</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.strip">
			<title>strip</title>
			<para>
			Заменяет все повторные пробелы, новые строки и знаки табуляции на
			одиночный пробел или на заданную строку.
			</para>
			<note>
			<title>Замечание</title>
			<para>
			Если вы хотите сделать аналогичную операцию над частью
			текста шаблона, то используйте функцию <link
			linkend="language.function.strip">strip</link>.
			</para>
			</note>
<example>
<title>strip</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', "Grandmother of\neight makes\t    hole in one.");
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|strip}
{$articleTitle|strip:"&amp;nbsp;"}

OUTPUT:

Grandmother of
eight makes        hole in one.
Grandmother of eight makes hole in one.
Grandmother&amp;nbsp;of&amp;nbsp;eight&amp;nbsp;makes&amp;nbsp;hole&amp;nbsp;in&amp;nbsp;one.</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.strip.tags">
			<title>strip_tags</title>
			<para>
			Вырезает HTML теги, обычно все между &lt; и &gt;.
			</para>
<example>
<title>strip_tags</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', "Blind Woman Gets &lt;font face=\"helvetica\"&gt;New Kidney&lt;/font&gt; from Dad she Hasn't Seen in &lt;b&gt;years&lt;/b&gt;.");
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|strip_tags}

OUTPUT:

Blind Woman Gets &lt;font face="helvetica"&gt;New Kidney&lt;/font&gt; from Dad she Hasn't Seen in &lt;b&gt;years&lt;/b&gt;.
Blind Woman Gets New Kidney from Dad she Hasn't Seen in years.</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.truncate">
			<title>truncate</title>
            <informaltable frame="all">
                <tgroup cols="5">
                <colspec colname="param" />
                <colspec colname="type" />
                <colspec colname="required" />
                <colspec colname="default" />
                <colspec colname="desc" />
                <thead>
                    <row>
                        <entry>Позиция параметра</entry>
                        <entry>Тип</entry>
                        <entry>Обязателен</entry>
                        <entry>По умолчанию</entry>
                        <entry>Описание</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>целое (integer)</entry>
                        <entry>Нет</entry>
                        <entry>80</entry>
                        <entry>Количество символов для обрезания
                        to.</entry>
                    </row>
                    <row>
                        <entry>2</entry>
                        <entry>строка (string)</entry>
                        <entry>Нет</entry>
                        <entry>...</entry>
                        <entry>Текст, который добавляется, если произошло обрезание.</entry>
                    </row>
                    <row>
                        <entry>3</entry>
                        <entry>логический (boolean)</entry>
                        <entry>Нет</entry>
                        <entry>false</entry>
                        <entry>Указывает, надо ли обрезать по границе слова (false) или 
                        по символу (true).</entry>
                    </row>
                </tbody>
                </tgroup>
            </informaltable>
			<para>
			Обрезает переменную по указанной длине (по умолчанию 80). Вторым 
			параметром можно указать текст, который будет добавлен в конец 
			обрезанной строки. По умолчанию truncate будет пытаться вырезать 
			слово, которой лежит на вырезаемой границе, целиком. Можно указать 
			третий параметр true, если надо обрезать строку точно по 
			определенному символу.
			</para>
<example>
<title>truncate</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', 'Two Sisters Reunite after Eighteen Years at Checkout Counter.');
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|truncate}
{$articleTitle|truncate:30}
{$articleTitle|truncate:30:""}
{$articleTitle|truncate:30:"---"}
{$articleTitle|truncate:30:"":true}
{$articleTitle|truncate:30:"...":true}

OUTPUT:

Two Sisters Reunite after Eighteen Years at Checkout Counter.
Two Sisters Reunite after Eighteen Years at Checkout Counter.
Two Sisters Reunite after...
Two Sisters Reunite after
Two Sisters Reunite after---
Two Sisters Reunite after Eigh
Two Sisters Reunite after E...</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.upper">
			<title>upper</title>
			<para>
            Заменяет все маленькие буквы на большие.
			</para>
<example>
<title>upper</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', "If Strike isn't Settled Quickly it may Last a While.");
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}
{$articleTitle|upper}

OUTPUT:

If Strike isn't Settled Quickly it may Last a While.
IF STRIKE ISN'T SETTLED QUICKLY IT MAY LAST A WHILE.</programlisting>
</example>
		</sect1>
		<sect1 id="language.modifier.wordwrap">
			<title>wordwrap</title>
            <informaltable frame="all">
                <tgroup cols="5">
                <colspec colname="param" />
                <colspec colname="type" />
                <colspec colname="required" />
                <colspec colname="default" />
                <colspec colname="desc" />
                <thead>
                    <row>
                        <entry>Позиция параметра</entry>
                        <entry>Тип</entry>
                        <entry>Обязателен</entry>
                        <entry>По умолчанию</entry>
                        <entry>Описание</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>1</entry>
                        <entry>целое (integer)</entry>
                        <entry>Нет</entry>
                        <entry>80</entry>
						<entry>Количество столбцов для переноса.</entry>
                    </row>
                    <row>
                        <entry>2</entry>
                        <entry>строка (string)</entry>
                        <entry>Нет</entry>
                        <entry>\n</entry>
                        <entry>Строка, которая вставляется на месте переноса.</entry>
                    </row>
                    <row>
                        <entry>3</entry>
                        <entry>логический (boolean)</entry>
                        <entry>Нет</entry>
                        <entry>false</entry>
                        <entry>Указывает, переносить по солвам (false) или нет (true).</entry>
                    </row>
                </tbody>
                </tgroup>
            </informaltable>
			<para>
			Переносит строку по количеству столбцов (по умолчанию 80). Можно 
			указать строку, которая будет вставлятся на месте переноса (по 
			умолчанию символ новой строки). По умолчанию wordwrap пытается 
			переносить по словам, но если указать третим параметром true, то 
			переноситься будет по конкретному символу.
			</para>
<example>
<title>wordwrap</title>
<programlisting>
index.php:

$smarty = new Smarty;
$smarty-&gt;assign('articleTitle', "Blind woman gets new kidney from dad she hasn't seen in years.");
$smarty-&gt;display('index.tpl');

index.tpl:

{$articleTitle}

{$articleTitle|wordwrap:30}

{$articleTitle|wordwrap:20}

{$articleTitle|wordwrap:30:"&lt;br&gt;\n"}

{$articleTitle|wordwrap:30:"\n":true}

OUTPUT:

Blind woman gets new kidney from dad she hasn't seen in years.

Blind woman gets new kidney
from dad she hasn't seen in
years.

Blind woman gets new
kidney from dad she
hasn't seen in
years.

Blind woman gets new kidney&lt;br&gt;
from dad she hasn't seen in years.

Blind woman gets new kidney fr
om dad she hasn't seen in year
s.</programlisting>
</example>
        </sect1>

</chapter>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
