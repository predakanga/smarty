
Warning: Unknown modifier 'l' in /home/user/didou/cvs/smarty/docs/fr/clean.php on line 56
<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision$ -->
<!-- EN-Revision: 1.1 Maintainer: nobody Status: partial -->
<sect1 id="plugins.compiler.functions"><title>Fonctions de compilation</title>
<para>
 Les fonctions de compilation sont appelées durant la compilation du template.
 Elles sont utiles pour injecter du code PHP ou du contenu "statique variant
 avec le temps" (bandeau de pub par ex.). Si une fonction de compilation et
 une fonction personnalisée ont le même
 nom, la fonction de compilation a priorité.
</para>
<funcsynopsis>
 <funcprototype>
  <funcdef>mixed <function>smarty_compiler_<replaceable>name</replaceable></function></funcdef>
  <paramdef>string <parameter>$tag_arg</parameter></paramdef>
  <paramdef>object <parameter>&amp;$smarty</parameter></paramdef>
 </funcprototype>
</funcsynopsis>
<para>
 Les fonctions de compilation ont deux paramétres : une chaene contenant
 la balise - en gros, tout, depuis le nom de la fonction jusqu'au délimiteur de fin - et
 l'objet Smarty. Elles sont censées retourner le code PHP qui doit être
 injecté dans le template compilé.
</para>
<para>
 Regardez aussi
 <link linkend="api.register.compiler.function">register_compiler_function()</link>,
  <link linkend="api.unregister.compiler.function">unregister_compiler_function()</link>.
  </para>
  <example>
   <title>fonction de compilation simple</title>
<programlisting>
&lt;?php
/*
 * Smarty plugin
 * -------------------------------------------------------------
 * Fichier :   compiler.tplheader.php
 * Type :      compilation
 * Nom :       tplheader
 * Rôle :      Renvoie l'en-tête contenant le nom du fichier
 *             source et le temps de compilation.
 * -------------------------------------------------------------
 */
function smarty_compiler_tplheader($tag_arg, &amp;$smarty)
{
    return "\necho '" . $smarty-&gt;_current_file . " compiled at " . date('Y-m-d H:M'). "';";
}
?&gt;</programlisting>
   <para>
    Cette fonction peut-être appelé depuis le template comme suivant :
   </para>
<programlisting>
{* cette fonction n'est executée que lors de la compilation *}
{tplheader}</programlisting>
   <para>
    Le code PHP résultant dans les templates compilés ressemblerait a ta :
   </para>
<programlisting>
&lt;php
echo 'index.tpl compiled at 2002-02-20 20:02';
?&gt;</programlisting>
  </example>
 </sect1>
 <!-- Keep this comment at the end of the file
 Local variables:
 mode: sgml
 sgml-omittag:t
 sgml-shorttag:t
 sgml-minimize-attributes:nil
 sgml-always-quote-attributes:t
 sgml-indent-step:1
 sgml-indent-data:t
 indent-tabs-mode:nil
 sgml-parent-document:nil
 sgml-default-dtd-file:"../../../../manual.ced"
 sgml-exposed-tags:nil
 sgml-local-catalogs:nil
 sgml-local-ecat-files:nil
 End:
 vim600: syn=xml fen fdm=syntax fdl=2 si
 vim: et tw=78 syn=sgml
 vi: ts=1 sw=1
 -->
