<?xml version="1.0" encoding="iso-8859-1"?>
<!-- $Revision$ -->
<!-- EN-Revision: 1.11 Maintainer: yannick Status: ready -->

<sect1 id="language.function.fetch">
 <title>{fetch}</title>
 <para>
  {fetch} est utilisé pour récupérer des fichiers depuis le système de
  fichier local, depuis un serveur http ou ftp, et en afficher le contenu.
  Si le nom du fichier commence par "http://", la page internet sera
  récupérée, puis affichée. Si le nom du fichier commence par "ftp://",
  le fichier sera récupéré depuis le serveur ftp, et affiché.
  Pour les fichiers du système local, le chemin doit être absolu ou
  relatif au chemin d'exécution du script PHP.
 </para>
 <para>
  Vous pouvez spécifier l'attribut optionnel "assign"
  qui défini une variable de template dans laquelle la sortie
  sera stockée plutôt que d'être affichée.
 </para>
 <informaltable frame="all">
  <tgroup cols="5">
   <colspec colname="param" align="center" />
   <colspec colname="type" align="center" />
   <colspec colname="required" align="center" />
   <colspec colname="default" align="center" />
   <colspec colname="desc" />
   <thead>
    <row>
     <entry>Nom attribut</entry>
     <entry>Type</entry>
     <entry>Requis</entry>
     <entry>Defaut</entry>
     <entry>Description</entry>
    </row>
   </thead>
   <tbody>
    <row>
     <entry>file</entry>
     <entry>chaîne de caractères</entry>
     <entry>Oui</entry>
     <entry><emphasis>n/a</emphasis></entry>
     <entry>le fichier, site http ou ftp à récupérer</entry>
    </row>
    <row>
     <entry>assign</entry>
     <entry>chaîne de caractères</entry>
     <entry>Non</entry>
     <entry><emphasis>n/a</emphasis></entry>
     <entry>le nom de la variable PHP dans laquelle la sortie
      sera assignée plutôt que d'être directement affichée.
     </entry>
    </row>
   </tbody>
  </tgroup>
 </informaltable>
 <note>
  <title>Note technique</title>
  <para>Ne supporte pas les redirections http. Assurez vous d'inclure les
   slash de fin sur votre page web si nécessaire.
  </para>
 </note>
 <note>
  <title>Note technique</title>
  <para>
   Si la <link linkend="variable.security">sécurité</link> est activée,
   vous ne pourez récupérer les fichiers du système local que s'ils sont
   situés dans l'un des <link linkend="variable.secure.dir">répertoires sécurisé</link>.
  </para>
 </note>
 <example>
  <title>Exempe avec {fetch}</title>
  <programlisting>
<![CDATA[
{* Inclus du javascript dans votre template *}
{fetch file='/export/httpd/www.example.com/docs/navbar.js'}

{* récupère les informations météo d'un autre site sur votre page *}
{fetch file='http://www.myweather.com/68502/'}

{* récupère les titres depuis un fichier ftp *}
{fetch file='ftp://user:password@ftp.example.com/path/to/currentheadlines.txt'}
{* comme ci-dessus mais avec des variables *}
{fetch file="ftp://`$user`:`$password`@`$server`/`$path`"}

{* assigne le contenu récupéré à une variable de template *}
{fetch file='http://www.myweather.com/68502/' assign='weather'}
{if $weather ne ''}
   <div id="weather">{$weather}</div>
{/if}
]]>
  </programlisting>
 </example>
 <para>
  Voir aussi
  <link linkend="language.function.capture">{capture}</link>,
  <link linkend="language.function.assign">{assign}</link>
  <link linkend="language.function.eval">{eval}</link> et
  <link linkend="api.fetch">fetch()</link>.
 </para>
</sect1>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->